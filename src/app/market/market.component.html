<!-- Data input -->

<body>
  <!-- INPUT VALUES -->
  <div class="inputvalues">
    <mat-form-field appearance="fill">
      <mat-label>Currency to evaluate</mat-label>
      <mat-select [(ngModel)]="selectedCurrency" name="currency" (selectionChange)="updateData()">
        <mat-option *ngFor="let currency of currencies" [value]="currency.name">
          <img class="icon" aria-hidden src="{{currency.img}}">
          <span>{{currency.name}}</span>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Currency to compare to</mat-label>
      <mat-select [(ngModel)]="selectedCurrencyToCompare" name="currency" (selectionChange)="updateData()">
        <mat-option *ngFor="let currency of currenciesToCompare" [value]="currency.name">
          <img class="icon" aria-hidden src="{{currency.img}}">
          <span>{{currency.name}}</span>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Choose a date from</mat-label>
      <input matInput [matDatepicker]="picker" [(ngModel)]="date" (dateChange)="updateData()">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-spinner *ngIf="isLoading" [diameter]="30"></mat-spinner>
  </div>

  <!-- Tabs with their content  -->
  <mat-tab-group mat-align-tabs="start">
    <!-- STATS CHART -->
    <mat-tab class="stats">
      <ng-template mat-tab-label>
        <mat-icon class="tab-icon">trending_up</mat-icon>
        Stats Chart
      </ng-template>
      <div echarts [options]="chartOption" [merge]="mergeOptions" class="demo-chart" style="width: 100%;height: 450px;">
      </div>

      <h2>What is Bitcoin (BTC)?</h2>
      <p>
        Bitcoin uses peer-to-peer technology to operate with no central authority or banks; managing transactions and
        the
        issuing of bitcoins is carried out collectively by the network. Although other cryptocurrencies have come
        before,
        Bitcoin is the first decentralized cryptocurrency - Its reputation has spawned copies and evolution in the
        space.With
        the largest variety of markets and the biggest value - having reached a peak of 318 billion USD - Bitcoin is
        here to
        stay. As with any new invention, there can be improvements or flaws in the initial model however the community
        and a
        team of dedicated developers are pushing to overcome any obstacle they come across. It is also the most traded
        cryptocurrency and one of the main entry points for all the other cryptocurrencies. The price is as unstable as
        always
        and it can go up or down by 10%-20% in a single day.Bitcoin is an SHA-256 POW coin with almost 21,000,000 total
        minable
        coins. The block time is 10 minutes. See below for a full range of Bitcoin markets where you can trade US
        Dollars for
        Bitcoin, crypto to Bitcoin and many other fiat currencies too.Bitcoin Whitepaper PDF - A Peer-to-Peer Electronic
        Cash
        SystemBlockchain data provided by: Blockchain (main source), Blockchair (backup)
      </p>
    </mat-tab>

    <!-- HISTORICAL DATA -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="tab-icon">view_list</mat-icon>
        Historical Data
      </ng-template>

      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table" style="width: 100%;">
          <ng-container matColumnDef="time">
            <th mat-header-cell *matHeaderCellDef>Date</th>
            <td mat-cell *matCellDef="let element"> {{element.time * 1000 | date}} </td>
          </ng-container>
          <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
            <th mat-header-cell *matHeaderCellDef>
              {{column.header}}
            </th>
            <td mat-cell *matCellDef="let row">
              {{column.cell(row)}}
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <!-- <mat-paginator [pageSizeOptions]="[10, 25, 50]" showFirstLastButtons>
        </mat-paginator> -->
      </div>
    </mat-tab>


    <!-- NEWS FEED -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="tab-icon">star_half</mat-icon>
        News Feed
      </ng-template>

      <div class="news-feed">
        <div fxLayout="row nowrap" fxLayoutGap="16px grid">
          <ng-container fxFlex="25" fxFlex.sm="33.3" fxFlex.xs="50" *ngFor="let card of cards">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title><a href={{card.url}}>{{card.title}}</a></mat-card-title>
                <mat-card-subtitle>{{card.published_on * 1000 | date}}</mat-card-subtitle>
                <img mat-card-sm-image src={{card.imageurl}}>
              </mat-card-title-group>
              <mat-card-content>
                {{card.body}}
              </mat-card-content>
              <mat-card-actions>
                <a mat-stroked-button href={{card.url}} target="_blank">
                  Source: {{card.source_info['name']}}
                  <mat-icon style="font-size: 20px;color: grey">
                    open_in_new
                  </mat-icon>
                </a>
              </mat-card-actions>
            </mat-card>
          </ng-container>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</body>