<mat-progress-bar mode="indeterminate" *ngIf="isFirstLoading"></mat-progress-bar>
<div *ngIf="!isFirstLoading">
  <!-- <div class="news-feed">
    <div class="news-title">News Feed:</div>
    <div class="news-content">
      <span>I'm having this particular issue where Dolby Atmos for Headphones or Windows Sonic is not getting</span>
      <span>I'm having this particular issue where Dolby Atmos for Headphones or Windows Sonic is not getting</span>
    </div>
  </div> -->
  <h1>Markets</h1>
  <div class="currencies">
    <div class="top-currencies">
      <div class="title">
        <h2>Best performing assets last 24h</h2>
      </div>
      <div class="content">
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>
                  {{performersSource[0].symbol}}
                </mat-card-title>
                <mat-card-subtitle>{{performersSource[0].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[0].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[0].changepct > 0,
            'negative' : performersSource[0].changepct < 0
         }">
                {{performersSource[0].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                    'positive' : performersSource[0].updown == '▲',
                    'negative' : performersSource[0].updown == '▼'
                 }">
                  {{performersSource[0].updown}}
                </div>{{performersSource[0].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>{{performersSource[1].symbol}}</mat-card-title>
                <mat-card-subtitle>{{performersSource[1].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[1].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[1].changepct > 0,
            'negative' : performersSource[1].changepct < 0
         }">
                {{performersSource[1].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                  'positive' : performersSource[1].updown == '▲',
                  'negative' : performersSource[1].updown == '▼'
                   }">
                  {{performersSource[1].updown}}
                </div>{{performersSource[1].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>{{performersSource[2].symbol}}</mat-card-title>
                <mat-card-subtitle>{{performersSource[2].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[2].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[2].changepct > 0,
            'negative' : performersSource[2].changepct < 0
         }">
                {{performersSource[2].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                'positive' : performersSource[2].updown == '▲',
                'negative' : performersSource[2].updown == '▼'
                }">
                  {{performersSource[2].updown}}
                </div>
                {{performersSource[2].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="worst-currencies">
      <div class="title">
        <h2>Worst performing assets last 24h</h2>
      </div>
      <div class="content">
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>{{performersSource[performersSource.length - 1].symbol}}</mat-card-title>
                <mat-card-subtitle>{{performersSource[performersSource.length - 1].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[performersSource.length - 1].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[performersSource.length - 1].changepct > 0,
            'negative' : performersSource[performersSource.length - 1].changepct < 0
         }">
                {{performersSource[performersSource.length - 1].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                'positive' : performersSource[performersSource.length - 1].updown == '▲',
                  'negative' : performersSource[performersSource.length - 1].updown == '▼'
                   }">
                  {{performersSource[performersSource.length - 1].updown}}
                </div>{{performersSource[performersSource.length - 1].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>{{performersSource[performersSource.length - 2].symbol}}</mat-card-title>
                <mat-card-subtitle>{{performersSource[performersSource.length - 2].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[performersSource.length - 2].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[performersSource.length - 2].changepct > 0,
            'negative' : performersSource[performersSource.length - 2].changepct < 0
         }">
                {{performersSource[performersSource.length - 2].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                  'positive' : performersSource[performersSource.length - 2].updown == '▲',
                  'negative' : performersSource[performersSource.length - 2].updown == '▼'
                   }">
                  {{performersSource[performersSource.length - 2].updown}}
                </div>{{performersSource[performersSource.length - 2].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
        <ng-container>
          <div class="card">
            <mat-card>
              <mat-card-title-group>
                <mat-card-title>{{performersSource[performersSource.length - 3].symbol}}</mat-card-title>
                <mat-card-subtitle>{{performersSource[performersSource.length - 3].name}}</mat-card-subtitle>
                <img src="https://www.cryptocompare.com{{performersSource[performersSource.length - 3].logo}}" />
              </mat-card-title-group>
              <mat-card-content [ngClass]="{
            'positive' : performersSource[performersSource.length - 3].changepct > 0,
            'negative' : performersSource[performersSource.length - 3].changepct < 0
         }">
                {{performersSource[performersSource.length - 3].changepct}}%
              </mat-card-content>
              <mat-card-content>
                <div style="width: 15px;" [ngClass]="{
                  'positive' : performersSource[performersSource.length - 3].updown == '▲',
                   'negative' : performersSource[performersSource.length - 3].updown == '▼'
                    }">
                  {{performersSource[performersSource.length - 3].updown}}
                </div>{{performersSource[performersSource.length - 3].price}}
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <table #myTable mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z0">
    <ng-container matColumnDef="rank">
      <th mat-header-cell *matHeaderCellDef style="width: 50px;">RANK</th>
      <td mat-cell *matCellDef="let row">{{row.rank}}</td>
    </ng-container>

    <ng-container matColumnDef="logo" class="logo">
      <th mat-header-cell *matHeaderCellDef style="width: 50px;"></th>
      <td mat-cell *matCellDef="let row"> <img src="https://www.cryptocompare.com{{row.logo}}" style="width: 30px;" />
      </td>
    </ng-container>

    <ng-container matColumnDef="name" class="name">
      <th mat-header-cell *matHeaderCellDef>CURRENCY</th>
      <td mat-cell *matCellDef="let row">{{row.name}}&nbsp;&nbsp;<span class="symbol">{{row.symbol}}</span></td>
    </ng-container>

    <ng-container matColumnDef="updown">
      <th mat-header-cell *matHeaderCellDef="let row" class="updown"></th>
      <td mat-cell *matCellDef="let row" style="width: 15px;" [ngClass]="{
                    'positive' : row.updown == '▲',
                    'negative' : row.updown == '▼'
                 }"> {{row.updown}} </td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef="let row" class="price">PRICE</th>
      <td mat-cell *matCellDef="let row" style="width: 115px;"> {{row.price}} </td>
    </ng-container>

    <ng-container matColumnDef="changepct">
      <th mat-header-cell *matHeaderCellDef="let row" class="changepct">LAST 24h</th>
      <td mat-cell *matCellDef="let row" style="width: 100px;" [ngClass]="{
            'positive' : row.changepct > 0,
            'negative' : row.changepct < 0
         }"> {{row.changepct}} %</td>
    </ng-container>

    <ng-container matColumnDef="totalvolume">
      <th mat-header-cell *matHeaderCellDef>TOTAL VOL.</th>
      <td mat-cell *matCellDef="let row"> {{row.totalvolume}} </td>
    </ng-container>

    <ng-container matColumnDef="circulatingsupply">
      <th mat-header-cell *matHeaderCellDef>CIRCULATING SUPPLY</th>
      <td mat-cell *matCellDef="let row"> {{row.circulatingsupply}} </td>
    </ng-container>

    <ng-container matColumnDef="marketcap">
      <th mat-header-cell *matHeaderCellDef>MARKET CAP</th>
      <td mat-cell *matCellDef="let row"><span>{{row.marketcap}}</span></td>
    </ng-container>

    <ng-container matColumnDef="buy">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let row"><a class="actionbuttons" mat-stroked-button routerLink="/invest"><span
            class="material-icons-outlined" style="font-size: 20px;">attach_money</span></a></td>
    </ng-container>
    <ng-container matColumnDef="info">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let row"><a class="actionbuttons" mat-stroked-button (click)="setRowInfo(row)"
          routerLink="/market"><span class="material-icons-outlined" style="font-size: 20px;">info</span></a></td>
    </ng-container>

    <tr mat-header-row class="mat-header-row" *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;" (click)="setRowInfo(row)" routerLink="/market"
      class="element-row">
    </tr>

  </table>
</div>

<!-- <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table" style="width: 100%;">
      <ng-container matColumnDef="time">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let row"> {{row.time * 1000 | date}} </td>
      </ng-container>
      <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
        <th mat-header-cell *matHeaderCellDef>
          {{column.header}}
        </th>
        <td mat-cell *matCellDef="let row">
          {{column.cell(row)}}
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
    </table> -->